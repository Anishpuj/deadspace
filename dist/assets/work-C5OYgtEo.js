import{g as l,b as m,c as w}from"./animated-copy-BO0XT191.js";import"./footer-DYFLOo--.js";l.registerPlugin(m);const b={trigger:".lab-hero",start:"top top",end:"150% top",scrub:!0};l.to(".lab-about-revealer",{clipPath:"polygon(0% 100%, 100% 100%, 100% -25%, 0% 0%)",ease:"none",scrollTrigger:b});l.to(".lab-hero-overlay",{opacity:1,ease:"none",scrollTrigger:b});const e={config:{canvasBg:"#e30613",logoSize:2e3,distortionRadius:2e3,forceStrength:.05,maxDisplacement:1e3,returnForce:.1,logoPath:"/lab/hero-visual.png",particleSpacing:2},canvas:null,gl:null,program:null,geometry:null,particles:[],posArray:null,mouse:{x:0,y:0},execCount:0,isMobile:!1,animFrame:null};document.addEventListener("DOMContentLoaded",R);function R(){if(e.canvas=document.getElementById("particle-canvas"),!e.canvas)return;e.isMobile=window.innerWidth<1e3;const t=Math.min(devicePixelRatio||1,2);e.canvas.width=innerWidth*t,e.canvas.height=innerHeight*t,e.canvas.style.width=innerWidth+"px",e.canvas.style.height=innerHeight+"px",e.gl=e.canvas.getContext("webgl",{alpha:!0,antialias:!1,powerPreference:"high-performance",desynchronized:!0}),e.gl&&(e.gl.enable(e.gl.BLEND),e.gl.blendFunc(e.gl.SRC_ALPHA,e.gl.ONE_MINUS_SRC_ALPHA),F(),M(),e.isMobile||document.addEventListener("mousemove",E,{passive:!0}),window.addEventListener("resize",L))}function F(){const t=`
    precision mediump float;
    uniform vec2 u_resolution;
    attribute vec2 a_position;
    attribute vec4 a_color;
    varying vec4 v_color;
    void main() {
      vec2 clip = (a_position / u_resolution * 2.0 - 1.0) * vec2(1.0, -1.0);
      v_color = a_color;
      gl_Position = vec4(clip, 0.0, 1.0);
      gl_PointSize = 3.0;
    }`,n=`
    precision mediump float;
    varying vec4 v_color;
    void main() {
      if (v_color.a < 0.01) discard;
      float dist = length(gl_PointCoord - 0.5);
      float alpha = 1.0 - smoothstep(0.0, 0.5, dist);
      gl_FragColor = vec4(v_color.rgb, v_color.a * alpha);
    }`,o=e.gl.createShader(e.gl.VERTEX_SHADER);e.gl.shaderSource(o,t),e.gl.compileShader(o);const r=e.gl.createShader(e.gl.FRAGMENT_SHADER);e.gl.shaderSource(r,n),e.gl.compileShader(r),e.program=e.gl.createProgram(),e.gl.attachShader(e.program,o),e.gl.attachShader(e.program,r),e.gl.linkProgram(e.program)}function M(){const t=new Image;t.crossOrigin="anonymous",t.onload=()=>{const n=document.createElement("canvas"),o=n.getContext("2d",{willReadFrequently:!0});n.width=n.height=e.config.logoSize;const r=e.config.logoSize*.9,i=(e.config.logoSize-r)/2;o.drawImage(t,i,i,r,r),P(o.getImageData(0,0,e.config.logoSize,e.config.logoSize).data)},t.src=e.config.logoPath}function P(t){const n=e.canvas.width/2,o=e.canvas.height/2,r=Math.min(innerWidth/1920,1),i=e.config.logoSize,a=e.config.particleSpacing,c=[],u=[];e.particles=[];for(let d=0;d<i;d+=a)for(let p=0;p<i;p+=a){const h=(d*i+p)*4;if(t[h+3]>50){const y=n+(p-i/2)*r,S=o+(d-i/2)*r;c.push(y,S),u.push(t[h]/255,t[h+1]/255,t[h+2]/255,t[h+3]/255),e.particles.push({ox:y,oy:S,vx:0,vy:0,i:d,j:p})}}e.posArray=new Float32Array(c);const f=e.gl.createBuffer();e.gl.bindBuffer(e.gl.ARRAY_BUFFER,f),e.gl.bufferData(e.gl.ARRAY_BUFFER,e.posArray,e.gl.DYNAMIC_DRAW);const g=e.gl.createBuffer();e.gl.bindBuffer(e.gl.ARRAY_BUFFER,g),e.gl.bufferData(e.gl.ARRAY_BUFFER,new Float32Array(u),e.gl.STATIC_DRAW),e.geometry={posBuf:f,colBuf:g,count:e.particles.length},console.log(`Particles created: ${e.particles.length}`),j()}function j(){if(e.animFrame=requestAnimationFrame(j),!e.isMobile&&e.execCount>0){e.execCount--;const t=e.config.distortionRadius**2;let n=!1;for(let o=0;o<e.particles.length;o++){const r=e.posArray[o*2],i=e.posArray[o*2+1],a=e.particles[o],c=e.mouse.x-r,u=e.mouse.y-i,f=c*c+u*u;if(f<t&&f>0){const g=-t/f,d=Math.sqrt((r-a.ox)**2+(i-a.oy)**2),p=Math.max(.1,1-d/(e.config.maxDisplacement*2));a.vx+=g*Math.cos(Math.atan2(u,c))*e.config.forceStrength*p,a.vy+=g*Math.sin(Math.atan2(u,c))*e.config.forceStrength*p,n=!0}if(Math.abs(a.vx)>.01||Math.abs(a.vy)>.01){const g=r+(a.vx*=.82)+(a.ox-r)*e.config.returnForce,d=i+(a.vy*=.82)+(a.oy-i)*e.config.returnForce,p=g-a.ox,h=d-a.oy,y=Math.sqrt(p*p+h*h);if(y>e.config.maxDisplacement){const S=e.config.maxDisplacement/y,v=S+(1-S)*Math.exp(-(y-e.config.maxDisplacement)*.02);e.posArray[o*2]=a.ox+p*v,e.posArray[o*2+1]=a.oy+h*v,a.vx*=.7,a.vy*=.7}else e.posArray[o*2]=g,e.posArray[o*2+1]=d;n=!0}}n&&(e.gl.bindBuffer(e.gl.ARRAY_BUFFER,e.geometry.posBuf),e.gl.bufferSubData(e.gl.ARRAY_BUFFER,0,e.posArray))}C()}function C(){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e.config.canvasBg);e.gl.viewport(0,0,e.canvas.width,e.canvas.height),e.gl.clearColor(parseInt(t[1],16)/255,parseInt(t[2],16)/255,parseInt(t[3],16)/255,1),e.gl.clear(e.gl.COLOR_BUFFER_BIT),e.gl.useProgram(e.program),e.gl.uniform2f(e.gl.getUniformLocation(e.program,"u_resolution"),e.canvas.width,e.canvas.height),e.gl.bindBuffer(e.gl.ARRAY_BUFFER,e.geometry.posBuf),e.gl.enableVertexAttribArray(0),e.gl.vertexAttribPointer(0,2,e.gl.FLOAT,!1,0,0),e.gl.bindBuffer(e.gl.ARRAY_BUFFER,e.geometry.colBuf),e.gl.enableVertexAttribArray(1),e.gl.vertexAttribPointer(1,4,e.gl.FLOAT,!1,0,0),e.gl.drawArrays(e.gl.POINTS,0,e.geometry.count)}function E(t){const n=e.canvas.getBoundingClientRect(),o=Math.min(devicePixelRatio||1,2);e.mouse.x=(t.clientX-n.left)*o,e.mouse.y=(t.clientY-n.top)*o,e.execCount=300}function L(){e.isMobile=innerWidth<1e3;const t=Math.min(devicePixelRatio||1,2);e.canvas.width=innerWidth*t,e.canvas.height=innerHeight*t,e.canvas.style.width=innerWidth+"px",e.canvas.style.height=innerHeight+"px";const n=e.canvas.width/2,o=e.canvas.height/2,r=Math.min(innerWidth/1920,1),i=e.config.logoSize;for(let a=0;a<e.particles.length;a++){const c=e.particles[a];c.ox=n+(c.j-i/2)*r,c.oy=o+(c.i-i/2)*r,c.vx=c.vy=0,e.posArray[a*2]=c.ox,e.posArray[a*2+1]=c.oy}e.gl.bindBuffer(e.gl.ARRAY_BUFFER,e.geometry.posBuf),e.gl.bufferSubData(e.gl.ARRAY_BUFFER,0,e.posArray)}l.registerPlugin(m,w);const s={svg:null,container:null,pieGroup:null,dotsGroup:null,headerSplit:null};let x=window.innerWidth<1e3?3:2.5;document.addEventListener("DOMContentLoaded",I);function I(){s.container=document.querySelector(".pie-transition"),s.container&&(N(),_(),B(),D(),T(),window.addEventListener("resize",O))}function N(){const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("viewBox","0 0 800 800"),t.style.cssText=`
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: min(80vw, 80vh);
    height: min(80vw, 80vh);
    overflow: visible;
  `,s.svg=t,s.container.appendChild(t)}function _(){const t=document.createElementNS("http://www.w3.org/2000/svg","g");t.style.transformOrigin="400px 400px",t.setAttribute("id","pie-transition-dots-group"),s.dotsGroup=t;for(let n=0;n<1500;n++){const o=Math.random()*Math.PI*2,r=Math.sqrt(Math.random())*300,i=400+Math.cos(o)*r,a=400+Math.sin(o)*r,c=document.createElementNS("http://www.w3.org/2000/svg","circle");c.setAttribute("cx",i),c.setAttribute("cy",a),c.setAttribute("r","1"),c.setAttribute("fill","#e30613"),t.appendChild(c)}s.svg.appendChild(t)}function B(){const t=document.createElementNS("http://www.w3.org/2000/svg","g");t.style.transformOrigin="400px 400px",t.setAttribute("id","pie-transition-pie-group"),s.pieGroup=t;const n=document.createElementNS("http://www.w3.org/2000/svg","defs"),o=document.createElementNS("http://www.w3.org/2000/svg","mask");o.setAttribute("id","pie-transition-mask");const r=document.createElementNS("http://www.w3.org/2000/svg","rect");r.setAttribute("x","0"),r.setAttribute("y","0"),r.setAttribute("width","800"),r.setAttribute("height","800"),r.setAttribute("fill","black");const i=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttribute("fill","white"),i.setAttribute("id","pie-transition-slice"),i.setAttribute("d",""),o.appendChild(r),o.appendChild(i),n.appendChild(o);const a=document.createElementNS("http://www.w3.org/2000/svg","circle");a.setAttribute("cx","400"),a.setAttribute("cy","400"),a.setAttribute("r","302"),a.setAttribute("fill","#e30613"),a.setAttribute("mask","url(#pie-transition-mask)"),t.appendChild(a),s.svg.appendChild(n),s.svg.appendChild(t)}function D(){const t=document.querySelector(".pie-transition-outro-header h3");t&&(s.headerSplit=w.create(t,{type:"words",wordsClass:"pie-transition-word"}),l.set(s.headerSplit.words,{opacity:0}))}function T(){m.create({trigger:".pie-transition",start:"top top",end:`+=${window.innerHeight*5}`,scrub:!0,pin:!0,pinSpacing:!0,onUpdate:t=>{const n=t.progress;if(n<=.5?A(n/.5):A(1),n>=.5){const r=1+(n-.5)/.5*x;s.pieGroup.style.transform=`scale(${r})`,s.dotsGroup.style.transform=`scale(${r})`}else s.pieGroup.style.transform="scale(1)",s.dotsGroup.style.transform="scale(1)";if(s.headerSplit&&s.headerSplit.words.length>0)if(n>=.75&&n<=.95){const o=(n-.75)/.2,r=s.headerSplit.words.length;s.headerSplit.words.forEach((i,a)=>{const c=a/r;l.set(i,{opacity:o>=c?1:0})})}else n<.75?l.set(s.headerSplit.words,{opacity:0}):n>.95&&l.set(s.headerSplit.words,{opacity:1})}})}function A(t){const n=document.getElementById("pie-transition-slice"),o=t*360;if(o===0){n.setAttribute("d","");return}if(o>=360){n.setAttribute("d",`
      M 400,400
      m -302,0
      a 302,302 0 1,0 604,0
      a 302,302 0 1,0 -604,0
    `);return}const r=-90,i=r+o,a=400+302*Math.cos(r*Math.PI/180),c=400+302*Math.sin(r*Math.PI/180),u=400+302*Math.cos(i*Math.PI/180),f=400+302*Math.sin(i*Math.PI/180),g=o>180?1:0;n.setAttribute("d",`
    M 400,400
    L ${a},${c}
    A 302,302 0 ${g} 1 ${u},${f}
    Z
  `)}function O(){x=window.innerWidth<1e3?3:2.5,m.refresh()}l.registerPlugin(m);document.addEventListener("DOMContentLoaded",()=>{setTimeout(()=>{m.refresh(),G()},100)});function G(){document.querySelectorAll(".stat-item").forEach(n=>{m.create({trigger:n,start:"top bottom",end:"top 25%",scrub:!0,onUpdate:o=>{l.set(n,{x:250-o.progress*250})}})})}l.registerPlugin(m);const V=[{name:"Northbound",project:"Archive Signal"},{name:"Grey Matter Co",project:"Carbon Interface"},{name:"Field Dept",project:"Signal Drift Study"},{name:"Monolith",project:"Index"},{name:"Office of Signal",project:"Hero Transition"},{name:"Plainform",project:"Commerce Stack V1"},{name:"Late Season Studio",project:"Content Flow"},{name:"Artifact",project:"Scroll Narrative System"},{name:"Room Eleven",project:"Visual Density"},{name:"Index",project:"Navigation"},{name:"Signal & Form",project:"Motion Identity System"},{name:"Null",project:"Interface Calibration Test"},{name:"Low Fidelity",project:"Prototype"},{name:"House of Color",project:"Surface Study"},{name:"Static",project:"Landing Page"},{name:"Edge Pattern Lab",project:"Interaction Layer"},{name:"Grain",project:"Editorial"},{name:"Studio Northbound",project:"System Homepage"},{name:"Signal Dept",project:"Scroll Field Test"},{name:"Room of Pattern",project:"Viewport Experiments"},{name:"Vault",project:"Data Surface"},{name:"Greyform Lab",project:"Motion Calibration"},{name:"Section Eight",project:"Hero Grid Study"},{name:"Tone",project:"Identity Pass"},{name:"Index Dept",project:"Navigation Stack"},{name:"Field of View",project:"Scroll Response"},{name:"Mono",project:"Landing System"},{name:"North Sector Lab",project:"Interface Density Test"},{name:"Drift",project:"Motion Layer"},{name:"Room Zero",project:"Prototype Field"},{name:"Signal",project:"Scroll Narrative"},{name:"Plain Studio",project:"System Audit"},{name:"Axis",project:"Layout Study"},{name:"Grey Room",project:"Visual Flow Test"},{name:"Object Dept",project:"Surface Logic"},{name:"Static Form",project:"Content Index"},{name:"Lab North",project:"Hero Entry"},{name:"Frame",project:"Viewport Logic"},{name:"Pattern Office",project:"Interaction System"},{name:"North Axis",project:"Spatial Index"},{name:"White Room",project:"Interface Study"},{name:"Signal Works",project:"Motion Framework"},{name:"Field Studio",project:"Scroll Architecture"},{name:"Coreform",project:"Layout System"},{name:"Room Twelve",project:"Visual Balance Test"},{name:"Gradient Lab",project:"Surface Transition"},{name:"Studio Vector",project:"Directional System"},{name:"Pattern Field",project:"Interaction Mapping"},{name:"Neutral Office",project:"Content Hierarchy"},{name:"Monoform",project:"Typography Pass"},{name:"Signal Archive",project:"Narrative Index"},{name:"Grey Sector",project:"Density Calibration"},{name:"Object Field",project:"Component Study"},{name:"Northframe",project:"Viewport Scaling"},{name:"Layer Dept",project:"Stack Architecture"},{name:"Studio Plain",project:"System Cleanup"},{name:"Axis North",project:"Grid Refinement"},{name:"Visual Office",project:"Flow Analysis"},{name:"Field Notes",project:"Experimental Log"},{name:"Room Alpha",project:"Prototype Cycle"},{name:"Form Dept",project:"Structural Pass"},{name:"Static North",project:"Landing Revision"},{name:"Index Lab",project:"Navigation Research"},{name:"Tone Studio",project:"Identity Calibration"},{name:"Signal North",project:"Scroll Velocity Test"},{name:"Pattern Lab",project:"Interaction Grammar"},{name:"Frame Office",project:"Viewport Rules"},{name:"Grey Index",project:"System Ordering"},{name:"Field Logic",project:"Response Mapping"},{name:"Object Studio",project:"Surface Composition"},{name:"Northform",project:"Layout Integrity"},{name:"Room Delta",project:"Visual Experiment"},{name:"Signal Studio",project:"Motion Pass"},{name:"Plain Index",project:"Content Structure"},{name:"Axis Lab",project:"Alignment Study"},{name:"Neutral Field",project:"Interface Restraint"},{name:"Pattern North",project:"System Iteration"},{name:"Frame Lab",project:"Viewport Behavior"}];document.addEventListener("DOMContentLoaded",()=>{U(),setTimeout(()=>{m.refresh(),H()},100)});function U(){const t=document.querySelector(".clients-list");t&&V.forEach(n=>{const o=document.createElement("div");o.className="client-row";const r=document.createElement("p");r.className="type-mono",r.textContent=n.name;const i=document.createElement("p");i.className="type-mono",i.textContent=n.project,o.appendChild(r),o.appendChild(i),t.appendChild(o)})}function H(){document.querySelectorAll(".client-row").forEach(n=>{const o=n.querySelectorAll("p");m.create({trigger:n,start:"top 75%",end:"top 65%",scrub:!0,onUpdate:r=>{const i=r.progress;l.set(n,{gap:`${25-i*25}%`}),o.forEach(a=>l.set(a,{opacity:i}))}})})}
